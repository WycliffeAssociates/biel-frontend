---
import {Image} from "astro:assets";
import type {WpPage} from "@customTypes/types";

interface Props {
  pageOptions: WpPage["pageOptions"];
  title: string;
  featuredImage: WpPage["featuredImage"];
}
const {pageOptions, title, featuredImage} = Astro.props;
---

<header class="mb-16 full-bleed hero-inner-shadow pr-0! pl-0!">
  <div class="contain md:(w-full!)">
    <div
      class="flex flex-col-reverse md:(grid grid-cols-[1fr_minmax(auto,720px)_minmax(auto,720px)_1fr]) py-0 relative"
    >
      <div
        class="w-full md:(grid-col-start-2 self-center) z-10 relative py-14 my-8 mr--24 bg-surface-primary flex flex-col gap-4 contain-pad"
      >
        <div class="flex gap-8px">
          {
            pageOptions.iconPreTitle && (
              <Image
                src={pageOptions.iconPreTitle.sourceUrl}
                loading="eager"
                alt=""
                inferSize={true}
              />
            )
          }

          <h1 class="mx-auto font-bold md:(text-left m-0)">
            <strong>{title}</strong>
          </h1>
        </div>

        <p class="text-onSurface-secondary">
          {pageOptions.topBlurb}
        </p>

        <div class="flex flex-col md:flex-row gap-4 mbs-6">
          {
            pageOptions.heroLinks?.map((link) => {
              return (
                <a
                  href={link.heroLinkUrl}
                  class={`inline-flex items-center gap-2 w-max py-2 px-12 rounded-2xl decoration-none! ${link.linkStyle == "filled" ? "border-x-2 border-t border-b-2 border-solid border-brand-darkest bg-brand-dark text-onSurface-invert!" : "bg-brand-light"}`}
                >
                  {link.heroLinkIcon && (
                    <span
                      class="font-size-[var(--step-0)]"
                      set:html={link.heroLinkIcon}
                    />
                  )}
                  {link.heroLinkText}
                </a>
              );
            })
          }
        </div>
      </div>
      {
        featuredImage?.node.sourceUrl && (
          <div class="md:(grid-col-start-3 grid-col-end-5 mis--4rem) max-md:relative">
            <Image
              src={featuredImage?.node.sourceUrl}
              loading="eager"
              alt={""}
              inferSize={true}
              class="w-full h-full object-cover max-h-70vh"
            />
          </div>
        )
      }
    </div>
  </div>
</header>
